using System.Windows.Forms;
using System.Drawing;

namespace Classroom_rezerv
{
    public partial class Form1 : Form
    {
        private System.Windows.Forms.Timer timerA = new System.Windows.Forms.Timer();
        private System.Windows.Forms.Timer timerB = new System.Windows.Forms.Timer();
        private System.Windows.Forms.Timer timerC = new System.Windows.Forms.Timer();
        private System.Windows.Forms.Timer timerD = new System.Windows.Forms.Timer();
        private int remainingA, remainingB, remainingC, remainingD;

        public Form1()
        {
            InitializeComponent();
            timerA.Interval = 1000;
            timerA.Tick += TimerA_Tick;
            timerB.Interval = 1000;
            timerB.Tick += TimerB_Tick;
            timerC.Interval = 1000;
            timerC.Tick += TimerC_Tick;
            timerD.Interval = 1000;
            timerD.Tick += TimerD_Tick;
        }

        private void button1_Click(object sender, EventArgs e)
        {
            if (int.TryParse(maskedTextBox1.Text, out int muddet))
            {
                remainingA = muddet;
                textBox2.Text = remainingA.ToString();
                button1.Enabled = false;
                timerA.Start();
            }
        }
        private void TimerA_Tick(object sender, EventArgs e)
        {
            if (remainingA > 0)
            {
                remainingA--;
                textBox2.Text = remainingA.ToString();
            }
            if (remainingA == 0)
            {
                timerA.Stop();
                button1.Enabled = true;
                MessageBox.Show("Sinif A üçün rezerv bitdi!", "Rezervasiya", MessageBoxButtons.OK, MessageBoxIcon.Information);
            }
        }

        private void button2_Click(object sender, EventArgs e)
        {
            if (int.TryParse(maskedTextBox2.Text, out int muddet))
            {
                remainingB = muddet;
                textBox3.Text = remainingB.ToString();
                button2.Enabled = false;
                timerB.Start();
            }
        }
        private void TimerB_Tick(object sender, EventArgs e)
        {
            if (remainingB > 0)
            {
                remainingB--;
                textBox3.Text = remainingB.ToString();
            }
            if (remainingB == 0)
            {
                timerB.Stop();
                button2.Enabled = true;
                MessageBox.Show("Sinif B üçün rezerv bitdi!", "Rezervasiya", MessageBoxButtons.OK, MessageBoxIcon.Information);
            }
        }

        private void button3_Click(object sender, EventArgs e)
        {
            if (int.TryParse(maskedTextBox3.Text, out int muddet))
            {
                remainingC = muddet;
                textBox5.Text = remainingC.ToString();
                button3.Enabled = false;
                timerC.Start();
            }
        }
        private void TimerC_Tick(object sender, EventArgs e)
        {
            if (remainingC > 0)
            {
                remainingC--;
                textBox5.Text = remainingC.ToString();
            }
            if (remainingC == 0)
            {
                timerC.Stop();
                button3.Enabled = true;
                MessageBox.Show("Sinif C üçün rezerv bitdi!", "Rezervasiya", MessageBoxButtons.OK, MessageBoxIcon.Information);
            }
        }

        private void button4_Click(object sender, EventArgs e)
        {
            if (int.TryParse(maskedTextBox4.Text, out int muddet))
            {
                remainingD = muddet;
                textBox7.Text = remainingD.ToString();
                button4.Enabled = false;
                timerD.Start();
            }
        }
        private void TimerD_Tick(object sender, EventArgs e)
        {
            if (remainingD > 0)
            {
                remainingD--;
                textBox7.Text = remainingD.ToString();
            }
            if (remainingD == 0)
            {
                timerD.Stop();
                button4.Enabled = true;
                MessageBox.Show("Sinif D üçün rezerv bitdi!", "Rezervasiya", MessageBoxButtons.OK, MessageBoxIcon.Information);
            }
        }
    }
}
